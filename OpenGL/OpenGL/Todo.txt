The update loop in Window needs to be optimize